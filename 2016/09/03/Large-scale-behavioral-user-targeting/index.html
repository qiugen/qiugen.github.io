<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="enjoy"><title>[笔记]Large-scale behavioral user targeting | 水滴石穿</title><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/4.2.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.0.0/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">[笔记]Large-scale behavioral user targeting</h1><a id="logo" href="/.">水滴石穿</a><p class="description">无止境探索，保持渴望，无所畏惧</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">[笔记]Large-scale behavioral user targeting</h1><div class="post-meta">Sep 3, 2016<span> | </span><span class="category"><a href="/categories/机器学习/">机器学习</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a data-thread-key="2016/09/03/Large-scale-behavioral-user-targeting/" href="/2016/09/03/Large-scale-behavioral-user-targeting/#comments" class="ds-thread-count"></a><div class="post-content"><p>&#x7528;&#x6237;&#x884C;&#x4E3A;&#x5B9A;&#x5411;&#x7684;&#x76EE;&#x7684;&#x662F;&#x6839;&#x636E;&#x7528;&#x6237;&#x7684;&#x5386;&#x53F2;&#x884C;&#x4E3A;&#xFF0C;&#x6765;&#x9009;&#x62E9;&#x6700;&#x5408;&#x9002;&#x7684;&#x5E7F;&#x544A;&#x6295;&#x653E;&#xFF0C;&#x6309;&#x5982;&#x4E0B;&#x601D;&#x8DEF;&#x4ECB;&#x7ECD;&#xFF1A;</p>
<ul>
<li>&#x6A21;&#x578B;&#x3001;&#x76EE;&#x6807;&#x3001;&#x7B97;&#x6CD5;</li>
<li>&#x5927;&#x89C4;&#x6A21;&#x6570;&#x636E;&#x4E0A;&#x7684;&#x5E94;&#x7528;&#x6280;&#x5DE7;<ul>
<li>&#x6570;&#x636E;&#x538B;&#x7F29;</li>
<li>&#x7279;&#x5F81;&#x9009;&#x62E9;&#x548C;&#x53D8;&#x6362;</li>
<li>&#x751F;&#x6210;&#x8BAD;&#x7EC3;&#x96C6;&#x5408;&#x6D4B;&#x8BD5;&#x96C6;</li>
<li>&#x5E76;&#x884C;&#x7684;Multiplicative&#x8FED;&#x4EE3;</li>
</ul>
</li>
<li>&#x5B9E;&#x9A8C;&#x8BBE;&#x5B9A;&amp;&#x7ED3;&#x8BBA;</li>
</ul>
<h4 id="&#x6A21;&#x578B;&#x3001;&#x76EE;&#x6807;&#x3001;&#x7B97;&#x6CD5;"><a href="#&#x6A21;&#x578B;&#x3001;&#x76EE;&#x6807;&#x3001;&#x7B97;&#x6CD5;" class="headerlink" title="&#x6A21;&#x578B;&#x3001;&#x76EE;&#x6807;&#x3001;&#x7B97;&#x6CD5;"></a>&#x6A21;&#x578B;&#x3001;&#x76EE;&#x6807;&#x3001;&#x7B97;&#x6CD5;</h4><h4 id="a-&#x6A21;&#x578B;"><a href="#a-&#x6A21;&#x578B;" class="headerlink" title="a.&#x6A21;&#x578B;"></a>a.&#x6A21;&#x578B;</h4>
$$p(y) = \frac{{{\lambda ^y}\exp \left( { - \lambda } \right)}}{{y!}},\; {\lambda _i}={w^T}{x_i} $$

$y$:&#x9884;&#x6D4B;CTR(click-through rate)&#xFF0C;&#x5373;&#x7528;&#x6237;&#x67D0;&#x4E2A;&#x7279;&#x5B9A;&#x7C7B;&#x522B;&#x4E0A;&#x7684;&#x70B9;&#x51FB;&#x7387;&#x3002;

$x$:&#x8868;&#x793A;&#x5E7F;&#x544A;&#x7684;&#x70B9;&#x51FB;, &#x7528;&#x6237;&#x7684;&#x6D4F;&#x89C8;&#x884C;&#x4E3A;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x8D2D;&#x4E70;&#x3001;&#x641C;&#x7D22;&#x7B49;&#x7B49;&#x884C;&#x4E3A;&#x3002;

$\lambda_t$:&#x4E3A;&#x76F8;&#x5E94;&#x7684;&#x63A7;&#x5236;&#x70B9;&#x51FB;&#x884C;&#x4E3A;&#x5230;&#x8FBE;&#x9891;&#x7E41;&#x6027;&#x7684;&#x53C2;&#x6570;&#x3002;
&#x70B9;&#x51FB;&#x884C;&#x4E3A;&#x662F;&#x79BB;&#x6563;&#x5230;&#x8FBE;&#x7684;&#x968F;&#x673A;&#x53D8;&#x91CF;&#xFF0C;&#x5BF9;&#x6570;&#x91CF;&#x6700;&#x81EA;&#x7136;&#x7684;&#x63CF;&#x8FF0;&#x89C4;&#x5219;&#x662F;&#x6CCA;&#x677E;&#x5206;&#x5E03;&#x3002;

<h4 id="b-&#x76EE;&#x6807;"><a href="#b-&#x76EE;&#x6807;" class="headerlink" title="b.&#x76EE;&#x6807;"></a>b.&#x76EE;&#x6807;</h4><p>&#x4F18;&#x5316;&#x76EE;&#x6807;&#xFF1A;<br>&#x6700;&#x5927;&#x5316;&#x4F3C;&#x7136;&#x51FD;&#x6570;&#xFF1A;<br>
$$
\prod\limits_i^n {p\left( {{{\mathbf{y}}_i}} \right)}  = \prod\limits_i^n {\frac{{{{\left( {{{\mathbf{w}}^T}{{\mathbf{x}}_i}} \right)}^{{{\mathbf{y}}_i}}}\exp \left( { - {{\mathbf{w}}^T}{{\mathbf{x}}_i}} \right)}}{{{{\mathbf{y}}_i}!}}} 
$$
&#x8F6C;&#x6C42;&#x5E38;&#x7528;log&#x4F3C;&#x7136;&#xFF1A;
$$l\left( y \right) = \log L\left( y \right) = \sum\limits_i^{} {\left( {{y_i}\log \left( \lambda  \right) - \lambda  - \log \left( {{y_i}!} \right)} \right)} $$
</p>
<h4 id="c-&#x7B97;&#x6CD5;"><a href="#c-&#x7B97;&#x6CD5;" class="headerlink" title="c.&#x7B97;&#x6CD5;"></a>c.&#x7B97;&#x6CD5;</h4>
 1.&#x68AF;&#x5EA6;&#x4E0B;&#x964D;gd, 2.bfgs 3.multiplicative rule.
 &#x68AF;&#x5EA6;&#x4E0B;&#x964D;&#x66F4;&#x65B0;&#x89C4;&#x5219;&#xFF1A;
 $$\Delta w = \frac{{\partial l\left( y \right)}}{{\partial {w_j}}} = \sum\limits_i {\left( {\frac{{{y_i}}}{{{\lambda _i}}}{x_{ij}} - {x_{ij}}} \right)} $$
 (&#x4F5C;&#x8005;&#x5B9E;&#x9645;&#x4E0A;&#x91C7;&#x7528;multiplicative&#x8FDB;&#x884C;&#x8FED;&#x4EE3;&#xFF0C;15-20&#x8F6E;&#x6536;&#x655B;)
 
 CTR&#x516C;&#x5F0F;&#xFF1A;
 $$CT{R_{ik}} = \frac{{\lambda _{ik}^{click} + \alpha }}{{\lambda _{ik}^{view} + \beta }}$$
 
<ul>
<li>&#x7B26;&#x53F7;&#x8BF4;&#x660E;&#xFF1A;$i,j,k$&#x5206;&#x522B;&#x8868;&#x793A;&#x7528;&#x6237;&#xFF0C;&#x7279;&#x5F81;&#xFF0C;&#x5E7F;&#x544A;&#x7C7B;&#x578B;</li>
<li>&#x6CE8;1:&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x5E73;&#x6ED1;&#xFF0C;&#x5BF9;&#x4E8E;CTR&#x516C;&#x5F0F;&#x7684;$\alpha \beta$`&#x6309;&#x6BCF;&#x4E2A;&#x7C7B;&#x522B;&#x8BA1;&#x7B97;&#xFF0C;&#x7ED3;&#x679C;&#x4E3A;&#x7ED9;&#x65B0;&#x7528;&#x6237;&#x63A8;&#x8350;&#x6700;&#x70ED;&#x7684;&#x7C7B;&#x522B;&#x3002;</li>
<li>&#x6CE8;2:$\lambda  = {w^T}x$&#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x7528;&#x6307;&#x6570;&#x578B;$bda  = \exp \left( {{w^T}x} \right)$&#xFF0C;&#x4F7F;&#x7528;&#x7EBF;&#x6027;&#x5F62;&#x5F0F;&#x3002;&#x521D;&#x8877;&#x662F;&#x65B9;&#x4FBF;&#x5728;&#x7EBF;&#x8BA1;&#x7B97;,&#x5BF9;&#x4E8E;&#x65B0;&#x7684;&#x7EBF;&#x4E0A;&#x7528;&#x6237;&#x884C;&#x4E3A;&#xFF0C;$bda &apos; = \lambda {\delta ^{\Delta t}} + {w_j}\Delta {x_j}$</li>
<li>&#x6CE8;3:&#x4E3A;&#x4EC0;&#x4E48;&#x7528;NMF&#xFF0C;W&#x7528;&#x6765;&#x8868;&#x793A;&#x7528;&#x6237;&#x5174;&#x8DA3;&#x6743;&#x91CD;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x7528;&#x6237;&#x5BF9;&#x67D0;&#x7C7B;&#x5E7F;&#x544A;&#x4E0D;&#x611F;&#x5174;&#x8DA3;&#xFF0C;&#x6211;&#x4EEC;&#x628A;&#x5B83;&#x8C03;&#x4E3A;&#x96F6;&#x5373;&#x53EF;&#x3002;</li>
<li>&#x6CE8;4&#xFF1A;&#x5BF9;&#x4E8E;&#x6BCF;&#x4E2A;&#x7279;&#x5F81;&#x7684;&#x6743;&#x91CD;$w_kj$&#x7684;&#x521D;&#x59CB;&#x5316;&#x53EF;&#x4EE5;&#x7528;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#xFF0C;<ul>
<li>a.&#x7C7B;&#x4F3C;TF-IDF&#xFF1A;$${w_{kj}} \leftarrow \frac{{\sum\nolimits_i {\frac{{{y_{ik}}{x_{ij}}}}{{\sum\nolimits_{j&apos;} {{x_{ij&apos;}}} }}} }}{{\sum\nolimits_i {{x_{ij}}} }}$$</li>
<li>b.&#x5168;&#x5C40;&#x7C7B;&#x522B;&#x4E0A;&#x8FDB;&#x884C;$${w_{kj}} \leftarrow \frac{{\sum\nolimits_i {\left( {{y_{ik}}{x_{ij}}} \right)\sum\nolimits_i {\left( {{y_{ik}}} \right)} } }}{{\sum\nolimits_{j&apos;} {\left[ {\sum\nolimits_i {{y_{ik}}{x_{ij&apos;}}} \sum\nolimits_i {{x_{ij&apos;}}} } \right]} }}$$<br>b&#x7684;&#x601D;&#x8003;&#x51FA;&#x53D1;&#x70B9;&#x662F;&#x90E8;&#x5206;&#x7C7B;&#x522B;&#x7684;&#x6A21;&#x578B;&#x8BAD;&#x7EC3;&#x65F6;&#x95F4;&#x8F83;&#x957F;&#xFF0C;&#x7ED9;&#x4E00;&#x4E2A;&#x8F83;&#x9002;&#x5408;&#x7684;&#x521D;&#x503C;&#xFF0C;&#x53EF;&#x80FD;&#x4F7F;&#x5F97;&#x6574;&#x4F53;&#x8FED;&#x4EE3;&#x6570;&#x636E;&#x901F;&#x5EA6;&#x53D8;&#x5FEB;&#x3002;</li>
</ul>
</li>
</ul>
<h4 id="&#x5927;&#x89C4;&#x6A21;&#x6570;&#x636E;&#x7684;&#x5E94;&#x7528;&#x6280;&#x5DE7;"><a href="#&#x5927;&#x89C4;&#x6A21;&#x6570;&#x636E;&#x7684;&#x5E94;&#x7528;&#x6280;&#x5DE7;" class="headerlink" title="&#x5927;&#x89C4;&#x6A21;&#x6570;&#x636E;&#x7684;&#x5E94;&#x7528;&#x6280;&#x5DE7;"></a>&#x5927;&#x89C4;&#x6A21;&#x6570;&#x636E;&#x7684;&#x5E94;&#x7528;&#x6280;&#x5DE7;</h4><p>1.log&#x6570;&#x636E;&#x7684;&#x9884;&#x5904;&#x7406;&#xFF0C;&#x6307;&#x5B9A;&#x6570;&#x636E;&#x7684;&#x5B57;&#x6BB5;&#x62BD;&#x53D6;&#xFF0C;&#x4EE5;cookie&#x4E3A;&#x5355;&#x4F4D;&#x5408;&#x5E76;&#x6570;&#x636E;&#x3002;<br>2.&#x518D;&#x4EE5;&#x7528;&#x6237;&#x548C;&#x65F6;&#x95F4;&#x4E3A;&#x7EC4;&#x5408;&#x952E;&#xFF0C;&#x6309;&#x65F6;&#x95F4;&#x95F4;&#x9694;&#x5408;&#x5E76;&#x6B21;&#x6570; &#xFF0C;&#x8FD9;&#x91CC;&#x65F6;&#x95F4;&#x95F4;&#x9694;&#x9700;&#x8981;&#x548C;&#x6A21;&#x578B;&#x6240;&#x9700;&#x4E00;&#x81F4;&#x3002;&#x4E00;&#x4E2A;&#x6708;&#x7684;&#x6570;&#x636E;&#x80FD;&#x51CF;&#x5C11;&#x5230;2-3TB(&#x8FD9;&#x91CC;&#x5C1A;&#x672A;&#x8FDB;&#x884C;&#x5E7F;&#x544A;&#x5206;&#x7C7B;)</p>
<h4 id="&#x7279;&#x5F81;&#x9009;&#x62E9;&#x548C;&#x53CD;&#x5411;&#x7D22;&#x5F15;"><a href="#&#x7279;&#x5F81;&#x9009;&#x62E9;&#x548C;&#x53CD;&#x5411;&#x7D22;&#x5F15;" class="headerlink" title="&#x7279;&#x5F81;&#x9009;&#x62E9;&#x548C;&#x53CD;&#x5411;&#x7D22;&#x5F15;"></a>&#x7279;&#x5F81;&#x9009;&#x62E9;&#x548C;&#x53CD;&#x5411;&#x7D22;&#x5F15;</h4><p>&#x5E7F;&#x544A;&#x70B9;&#x51FB;&#x3001;&#x9875;&#x9762;&#x6D4F;&#x89C8;&#x3001;&#x548C;&#x641C;&#x7D22;query&#xFF0C;&#x8FD9;&#x4E9B;&#x7279;&#x5F81;&#x7A7A;&#x95F4;&#x6BD4;&#x8F83;&#x590D;&#x6742;&#x548C;&#x7A00;&#x758F;&#xFF0C;&#x4F5C;&#x8005;&#x4F7F;&#x7528;&#x9891;&#x6B21;&#x9608;&#x503C;&#x8FDB;&#x884C;&#x7B5B;&#x9009;&#xFF0C;&#x5F97;&#x5230;&#xFF08;&#x7279;&#x5F81;&#x7C7B;&#x578B; click / search / view&#xFF0C;&#x5B9E;&#x4F53;entity&#xFF0C;freq&#xFF09;&#x7EC4;&#x5408;&#xFF0C;&#x4E0D;&#x9009;&#x62E9;&#x4E92;&#x4FE1;&#x606F;&#xFF0C;&#x4E92;&#x4FE1;&#x606F;&#x5BB9;&#x6613;&#x53D7;&#x6570;&#x636E;&#x7A00;&#x758F;&#x5F71;&#x54CD;&#x3002;&#x6700;&#x540E;&#x8F93;&#x51FA;&#x4E3A;3&#x7C7B;&#x7279;&#x5F81;&#x7684;&#x8BCD;&#x5178;&#xFF0C;&#x4ECE;&#x5B9E;&#x9A8C;&#x914D;&#x7F6E;&#x53EF;&#x4EE5;&#x8BA4;&#x4E3A;&#x662F;ad_id&#x3001;page_id&#x3001;query&#xFF0C;&#x4E09;&#x79CD;&#x8BCD;&#x5178;&#x3002;&#x5F97;&#x5230;&#x4E0A;&#x8FF0;&#x8BCD;&#x5178;&#x4EE5;&#x540E;&#xFF0C;&#x7279;&#x5F81;&#x5411;&#x91CF;&#x53EF;&#x4EE5;&#x7528;(&#x4E0B;&#x6807;&#xFF0C;&#x503C;)&#x7684;&#x5F62;&#x5F0F;&#x5B58;&#x50A8;&#xFF0C;&#x4E0B;&#x6807;&#x6307;&#x8BCD;&#x5178;&#x7684;&#x504F;&#x79FB;&#x3002;<br>trick 1.&#x7279;&#x5F81;&#x8FC7;&#x6EE4;&#x5361;&#x9891;&#x6B21;&#x7528;cookie&#x4E3A;&#x5355;&#x4F4D;&#x8BA1;&#x6570;&#x7684;&#x539F;&#x56E0;&#x662F;&#x9632;&#x722C;&#x866B;<br>trick 2.&#x76F4;&#x63A5;&#x5BF9;&#x7279;&#x5F81;&#x5361;&#x9891;&#x6B21;&#xFF0C;&#x8FD9;&#x6837;&#x65E0;&#x9700;&#x505A;&#x6392;&#x5E8F;&#x53D6;topN<br>trick 3.&#x5728;&#x65E0;&#x9700;&#x6392;&#x5E8F;&#x5F52;&#x5E76;&#x7684;&#x9636;&#x6BB5;&#xFF0C;reducer&#x53EF;&#x4EE5;&#x7528;&#x503C;&#x6392;&#x5E8F;&#x3002;&#x8FD9;&#x6837;&#x907F;&#x514D;&#x5BF9;&#x590D;&#x6742;key&#x8FDB;&#x884C;&#x6392;&#x5E8F;&#xFF0C;&#x589E;&#x52A0;&#x65F6;&#x8017;</p>
<h4 id="&#x751F;&#x6210;&#x8BAD;&#x7EC3;&#x96C6;&#x5408;&#x6D4B;&#x8BD5;&#x96C6;"><a href="#&#x751F;&#x6210;&#x8BAD;&#x7EC3;&#x96C6;&#x5408;&#x6D4B;&#x8BD5;&#x96C6;" class="headerlink" title="&#x751F;&#x6210;&#x8BAD;&#x7EC3;&#x96C6;&#x5408;&#x6D4B;&#x8BD5;&#x96C6;"></a>&#x751F;&#x6210;&#x8BAD;&#x7EC3;&#x96C6;&#x5408;&#x6D4B;&#x8BD5;&#x96C6;</h4><p>&#x5982;&#x56FE;&#x663E;&#x793A;&#xFF0C;&#x901A;&#x8FC7;&#x6ED1;&#x52A8;&#x7A97;&#x53E3;&#x7684;&#x91C7;&#x96C6;&#x65B9;&#x5F0F;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;$o(1)$&#x7684;&#x65F6;&#x95F4;&#x5185;&#x5B8C;&#x6210;&#x7279;&#x5F81;&#x6570;&#x636E;&#x7684;&#x751F;&#x6210;&#x3002;<br><img src="/2016/09/03/Large-scale-behavioral-user-targeting/./1472867063488.png" alt="&#x56FE;1"></p>
<h4 id="&#x6570;&#x636E;&#x9A71;&#x52A8;&#x7684;&#x6743;&#x91CD;&#x66F4;&#x65B0;"><a href="#&#x6570;&#x636E;&#x9A71;&#x52A8;&#x7684;&#x6743;&#x91CD;&#x66F4;&#x65B0;" class="headerlink" title="&#x6570;&#x636E;&#x9A71;&#x52A8;&#x7684;&#x6743;&#x91CD;&#x66F4;&#x65B0;"></a>&#x6570;&#x636E;&#x9A71;&#x52A8;&#x7684;&#x6743;&#x91CD;&#x66F4;&#x65B0;</h4><p>&#x8FD9;&#x91CC;&#x4E3B;&#x8981;&#x63D0;&#x53CA;&#x4E0B;&#x6743;&#x91CD;&#x66F4;&#x65B0;&#x7684;&#x5E76;&#x884C;&#x5316;<br>
1.&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x7A00;&#x758F;&#x77E9;&#x9635;D&#xFF0C;&#x6211;&#x4EEC;&#x60F3;&#x4F30;&#x8BA1;&#x4E00;&#x4E2A;dense&#x7684;&#x6743;&#x91CD;&#x77E9;&#x9635;W&#x3002;&#x7ED9;&#x5B9A;$Y$,$X$&#xFF0C;&#x6C42;&#x5F97;$\arg {\max _w}\log p\left( {{Y^T}|W{X^T}} \right)$&#x7684;&#x89E3;$W^*$. &#xFF08;&#x6309;&#xFF1A;&#x8FD9;&#x91CC;&#x548C;&#x76EE;&#x6807;&#x6CCA;&#x677E;&#x5206;&#x5E03;log-&#x4F3C;&#x7136;&#x51FD;&#x6570;&#x6709;&#x5173;&#x8054;&#xFF09;
<br>2.${Y^T} \approx W{X^T}$&#xFF0C;&#x53EF;&#x4EE5;&#x590D;&#x7528;NMF&#x975E;&#x8D1F;&#x77E9;&#x9635;&#x5206;&#x89E3;&#x4E2D;&#x7684;&#x9AD8;&#x6548;&#x4E58;&#x6CD5;&#x65B9;&#x5F0F;&#xFF0C;&#x901A;&#x8FC7;log&#x4F3C;&#x7136;&#x8FDB;&#x884C;&#x7EA6;&#x675F;&#x3002;<br>a. W&#x662F;dense&#x7684;&#x77E9;&#x9635;&#xFF0C;&#x56E0;&#x4E3A;&#x96C6;&#x7FA4;&#x8282;&#x70B9;&#x5185;&#x5B58;&#x9650;&#x5236;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x62C6;&#x5F00;&#x8BFB;&#x5165;&#x3002;&#x7531;&#x4E8E;&#x62C6;&#x4EE5;&#x540E;&#x8BA1;&#x7B97;$W{X^T}$&#x590D;&#x6742;&#x5EA6;&#x8F83;&#x9AD8;&#xFF0C;&#x5F15;&#x5165;&#x4E0B;&#x4E00;&#x6B65;&#x7684;&#x5185;&#x5B58;caching<br>b. In-memory Caching.&#x5BF9;&#x6837;&#x672C;xy&#x8FDB;&#x884C;cache&#xFF0C;&#x9884;&#x5148;&#x6C42;&#x5F97;cache&#x5185;&#x6570;&#x636E;&#x7684; $\sum\nolimits_i {\frac{{{y_{ik}}{x_{ij}}}}{{{\lambda _{ik}}}}} $ &#x5411;&#x540E;&#x4F20;&#x9012;&#x3002;<br>c. &#x6309;k&#x4E3A;key&#x8FDB;&#x884C;reduce&#xFF0C;&#x6700;&#x540E;&#x7D2F;&#x79EF;&#x66F4;&#x65B0;&#x5230;&#x6743;&#x91CD;$W$&#x3002;&#x4F2A;&#x4EE3;&#x7801;&#x5728;&#x8BBA;&#x6587;4.5.3&#x8282;</p>
<p><img src="/2016/09/03/Large-scale-behavioral-user-targeting/./1472873709199.png" alt="&#x56FE;2"></p>
<h4 id="&#x5B9E;&#x9A8C;&#x90E8;&#x5206;&#xFF1A;"><a href="#&#x5B9E;&#x9A8C;&#x90E8;&#x5206;&#xFF1A;" class="headerlink" title="&#x5B9E;&#x9A8C;&#x90E8;&#x5206;&#xFF1A;"></a>&#x5B9E;&#x9A8C;&#x90E8;&#x5206;&#xFF1A;</h4><ul>
<li>&#x6570;&#x636E;&#x548C;&#x53C2;&#x6570;<br>a.&#x6570;&#x636E;&#x6765;&#x6E90;&#xFF0C;&#x5E7F;&#x544A;&#x70B9;&#x51FB;&#xFF0C;&#x9875;&#x9762;&#x6D4F;&#x89C8;&#xFF0C;&#x641C;&#x7D22;query<br>b.&#x6548;&#x679C;&#x8861;&#x91CF;&#x65B9;&#x5F0F;&#xFF0C;1.baseline&#x5BF9;&#x6BD4;&#xFF0C;&#x89C1;&#x4E0B;&#x8868;CTR lift&#xFF0C;2.ROC&#x66F2;&#x7EBF;&#x6BD4;&#x8F83;&#x3002;60&#x79CD;&#x4E3B;&#x8981;BT&#x884C;&#x4E3A;</li>
<li>&#x57FA;&#x7EBF;&#x6A21;&#x578B;&#xFF1A; Logistic Regression&#xFF0C;&#x5206;&#x522B;&#x4E3A;&#x4E24;&#x4E2A;&#x6A21;&#x578B;&#x7684;&#x7ED3;&#x679C;&#x79EF;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x4E00;&#x90E8;&#x5206;&#x9884;&#x6D4B;&#x4E0B;&#x4E00;&#x5929;&#x7684;&#x70B9;&#x51FB;&#xFF0C;&#x4E00;&#x90E8;&#x5206;&#x9884;&#x6D4B;&#x4E0B;&#x4E00;&#x5C0F;&#x65F6;&#x70B9;&#x51FB;&#x3002;</li>
</ul>
<h4 id="&#x5B9E;&#x9A8C;&#x7ED3;&#x679C;&#xFF1A;"><a href="#&#x5B9E;&#x9A8C;&#x7ED3;&#x679C;&#xFF1A;" class="headerlink" title="&#x5B9E;&#x9A8C;&#x7ED3;&#x679C;&#xFF1A;"></a>&#x5B9E;&#x9A8C;&#x7ED3;&#x679C;&#xFF1A;</h4><p>a.&#x6570;&#x636E;&#x91CF;&#x65B9;&#x9762;&#xFF1A;<br><img src="/2016/09/03/Large-scale-behavioral-user-targeting/./1472876302964.png" alt="&#x56FE;3"><br>&#x6570;&#x636E;&#x5747;&#x5206;&#x4E3A;512&#x4EFD;&#xFF0C;&#x8BAD;&#x7EC3;&#x96C6;&#x4E0D;&#x540C;&#x7684;&#x91CF;&#x5E26;&#x6765;&#x7684;&#x6548;&#x679C;&#x5982;&#x56FE;&#x3002;<br>b.&#x7279;&#x5F81;&#x65B9;&#x9762;&#x6BD4;&#x8F83;&#xFF1A;<br><img src="/2016/09/03/Large-scale-behavioral-user-targeting/./1472876288856.png" alt="&#x56FE;4"><br>&#xFF08;PS.&#x4E4B;&#x6240;&#x4EE5;&#x63A7;&#x5236;&#x7279;&#x5F81;&#x4E3A;ads&#x548C;pages&#x53D8;&#x5316;&#x662F;&#x56E0;&#x4E3A;&#xFF0C;query&#x5728;&#x70B9;&#x51FB;&#x9884;&#x4F30;&#x7684;&#x5F71;&#x54CD;&#x6BD4;&#x8F83;&#x5C0F;&#xFF09;<br>&#xFF08;&#x4E4B;&#x524D;&#x7684;&#x52A0;&#x901F;&#x63AA;&#x65BD;&#x4F7F;&#x5F97;&#x8BAD;&#x7EC3;&#x65F6;&#x95F4;&#x6709;&#x4E0D;&#x53D7;&#x7279;&#x5F81;&#x6570;&#x76EE;&#x663E;&#x8457;&#x5F71;&#x54CD;&#x7684;&#x7279;&#x6027;&#xFF09;<br>c.target&#x65F6;&#x95F4;&#x7A97;&#x65B9;&#x9762;&#x6BD4;&#x8F83;&#xFF08;&#x610F;&#x4E49;&#x53EF;&#x80FD;&#x4E0D;&#x5927;&#xFF0C;&#x7565;&#xFF09;&#xFF1A;<br>d.&#x5206;&#x5C42;&#x62BD;&#x6837;&#x7684;&#x6548;&#x679C;<br>&#x7528;&#x6237;&#x5206;&#x4E09;&#x7C7B;&#xFF1A;1.&#x6709;&#x70B9;&#x51FB;&#x884C;&#x4E3A; 2.&#x65E0;&#x5E7F;&#x544A;&#x70B9;&#x51FB;&#xFF0C;&#x6709;&#x5E7F;&#x544A;view&#x3002;3.&#x5E7F;&#x544A;&#x70B9;&#x51FB;&#x548C;&#x5E7F;&#x544A;view&#x90FD;&#x65E0;<br>&#x9700;&#x8981;&#x5BF9;&#x540E;&#x4E24;&#x7C7B;&#x7528;&#x6237;&#x8FDB;&#x884C;&#x91C7;&#x6837;&#xFF0C;&#x7B2C;&#x4E00;&#x680F;&#x7684;&#x6570;&#x5B57;&#x4EE3;&#x8868;&#x91C7;&#x6837;&#x7387;&#x3002;<br><img src="/2016/09/03/Large-scale-behavioral-user-targeting/./1472878435652.png" alt="&#x56FE;5"><br>(&#x8D1F;&#x6837;&#x672C;&#x53EA;&#x5BF9;&#x5206;&#x6BCD;&#x6709;&#x5F71;&#x54CD;&#xFF0C;&#x800C;&#x4E14;&#x662F;&#x63D0;&#x524D;&#x7B97;&#x597D;&#x7684;&#x3002;&#x7ED3;&#x679C;&#x770B;&#x4E00;&#x4E2A;&#x8F83;&#x5C0F;&#x7684;neg&#x91C7;&#x6837;&#x7EC4;&#x5408;&#x4E00;&#x4E2A;&#x8F83;&#x5927;&#x7684;view&#x91C7;&#x6837;&#x53EF;&#x4EE5;&#x5E26;&#x6765;&#x4E00;&#x4E2A;&#x6BD4;&#x8F83;&#x597D;&#x7684;&#x6548;&#x679C;)</p>
<p>e.&#x5F15;&#x5165;&#x65F6;&#x95F4;&#x95F4;&#x9699;&#xFF0C;&#x6A21;&#x62DF;&#x8BAD;&#x7EC3;&#x3002;<br>&#x56E0;&#x4E3A;&#x5728;&#x7EBF;&#x7684;&#x8BAD;&#x7EC3;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6709;data&#x5EF6;&#x8FDF;&#xFF0C;&#x5728;&#x7279;&#x5F81;&#x65F6;&#x95F4;&#x7A97;&#x548C;&#x76EE;&#x6807;&#x65F6;&#x95F4;&#x7A97;&#x4E2D;&#x95F4;&#x63D2;&#x5165;&#x4E00;&#x4E2A;&#x95F4;&#x9699;&#x3002;&#x5E26;&#x6765;&#x7684;&#x6548;&#x679C;&#x5BF9;&#x6BD4;&#xFF0C;&#x53F3;&#x8FB9;&#x662F;&#x6A21;&#x62DF;&#x5728;&#x7EBF;&#x7684;&#x65F6;&#x5019;&#x7684;&#x6548;&#x679C;<br><img src="/2016/09/03/Large-scale-behavioral-user-targeting/./1472878488312.png" alt="&#x56FE;6"><br>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5982;&#x679C;&#x65E0;&#x95F4;&#x9699;&#x7684;&#x65F6;&#x5019;&#xFF0C;CTR&#x6709;&#x663E;&#x8457;&#x6536;&#x76CA;&#xFF0C;&#x8BF4;&#x660E;&#x5B9E;&#x65F6;&#x7684;&#x7279;&#x5F81;&#x5BF9;CTR&#x9884;&#x4F30;&#x5F71;&#x54CD;&#x8F83;&#x5927;&#x3002;</p>
<p>&#x603B;&#x7ED3;&#xFF1A;&#x4F5C;&#x8005;&#x6839;&#x636E;&#x7528;&#x6237;&#x5386;&#x53F2;&#x884C;&#x4E3A;&#x9884;&#x6D4B;&#x7528;&#x6237;&#x5BF9;&#x4E0D;&#x540C;&#x7C7B;&#x522B;&#x5E7F;&#x544A;&#x7684;CTR&#xFF0C;&#x540C;&#x65F6;&#x7ED9;&#x4E86;&#x5728;&#x5927;&#x89C4;&#x6A21;&#x6570;&#x636E;&#x4E0A;&#x7684;&#x5B9E;&#x73B0;&#x6846;&#x67B6;&#x3002;<br>&#xFF08;summarizes by&#xFF1A;shawn_xiao@baidu&#xFF09;<br>&#x5F15;&#x6587;&#xFF1A;<br>[1]Chen, Ye&#xFF0C;Pavlov, Dmitry&#xFF0C;Canny, John&#xFF0C; Large-scale behavioral targeting, [2010]</p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="https://qiugen.github.io/2016/09/03/Large-scale-behavioral-user-targeting/" data-id="cith7odqu0001nclphx6hokg3" class="article-share-link">分享到</a><div class="tags"><a href="/tags/user-targeting/">user targeting</a><a href="/tags/advertisement/">advertisement</a></div><div class="post-nav"><a href="/2016/09/13/Ranking-Relevance-in-Yahoo-Search/" class="pre">[笔记]Ranking Relevance in Yahoo Search</a><a href="/2016/09/03/solved-mathjex-problem/" class="next">解决hexo(jekyll) mathjex 插入公式后渲染问题</a></div><div data-thread-key="2016/09/03/Large-scale-behavioral-user-targeting/" data-title="[笔记]Large-scale behavioral user targeting" data-url="https://qiugen.github.io/2016/09/03/Large-scale-behavioral-user-targeting/" class="ds-share flat"><div class="ds-share-inline"><ul class="ds-share-icons-16"><li data-toggle="ds-share-icons-more"><a href="javascript:void(0);" class="ds-more">分享到：</a></li><li><a href="javascript:void(0);" data-service="weibo" class="ds-weibo">微博</a></li><li><a href="javascript:void(0);" data-service="qzone" class="ds-qzone">QQ空间</a></li><li><a href="javascript:void(0);" data-service="qqt" class="ds-qqt">腾讯微博</a></li><li><a href="javascript:void(0);" data-service="wechat" class="ds-wechat">微信</a></li></ul><div class="ds-share-icons-more"></div></div></div><div data-thread-key="2016/09/03/Large-scale-behavioral-user-targeting/" data-title="[笔记]Large-scale behavioral user targeting" data-url="https://qiugen.github.io/2016/09/03/Large-scale-behavioral-user-targeting/" data-author-key="1" class="ds-thread"></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="search" name="word" maxlength="20" placeholder="Search"/><input type="hidden" name="si" value="https://qiugen.github.io"/><input name="tn" type="hidden" value="bds"/><input name="cl" type="hidden" value="3"/><input name="ct" type="hidden" value="2097152"/><input name="s" type="hidden" value="on"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/其他/">其他</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/机器学习/">机器学习</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/gradient-boosting-framework/" style="font-size: 15px;">gradient boosting framework</a> <a href="/tags/user-targeting/" style="font-size: 15px;">user targeting</a> <a href="/tags/learning-to-rank/" style="font-size: 15px;">learning to rank</a> <a href="/tags/query-rewriting/" style="font-size: 15px;">query rewriting</a> <a href="/tags/semantic-matching/" style="font-size: 15px;">semantic matching</a> <a href="/tags/deep-learning/" style="font-size: 15px;">deep learning</a> <a href="/tags/gbdt/" style="font-size: 15px;">gbdt</a> <a href="/tags/advertisement/" style="font-size: 15px;">advertisement</a> <a href="/tags/model/" style="font-size: 15px;">model</a> <a href="/tags/bayes/" style="font-size: 15px;">bayes</a> <a href="/tags/gbRank/" style="font-size: 15px;">gbRank</a> <a href="/tags/logisticRank/" style="font-size: 15px;">logisticRank</a> <a href="/tags/RBMs/" style="font-size: 15px;">RBMs</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a> <a href="/tags/mathjex-公式/" style="font-size: 15px;">mathjex 公式</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/09/24/gradient-boosting-decision-tree-1/">gradient boosting decision tree[上篇]</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/18/gbRank-logsitRank-from-up-to-bottom/">gbRank & logsitcRank自顶向下</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/13/Ranking-Relevance-in-Yahoo-Search/">[笔记]Ranking Relevance in Yahoo Search</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/03/Large-scale-behavioral-user-targeting/">[笔记]Large-scale behavioral user targeting</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/03/solved-mathjex-problem/">解决hexo(jekyll) mathjex 插入公式后渲染问题</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/05/11/Training-Products-of-Experts-by-Minimizing-Contrastive-Divergence/">[笔记]Training Products of Experts by Minimizing Contrastive Divergence</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/03/02/naive-bayes-classify/">朴素贝叶斯分类算法简介</a></li><li class="post-list-item"><a class="post-list-link" href="/2013/05/29/徐志摩诗一首/">再休怪我的脸沉</a></li></ul></div><div class="widget"><div class="comments-title"><i class="fa fa-comment-o"> 最近评论</i></div><div data-num-items="5" data-show-avatars="0" data-show-time="1" data-show-admin="0" data-excerpt-length="32" data-show-title="1" class="ds-recent-comments"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">水滴石穿.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script>var duoshuoQuery = {short_name:'qiugen'};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
        || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
  });
</script><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML" async></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>